---
interface Props {
  meetingTypes: string[];
  selectedType?: string;
  totalCount: number;
}

const { meetingTypes, selectedType, totalCount } = Astro.props;
// Ensure base URL ends with /
const base = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/';
---

<!-- Filter chips - horizontally scrollable on mobile -->
<div class="mb-6">
  <div class="flex items-center gap-2 overflow-x-auto pb-2 -mb-2 scrollbar-hide">
    <span class="text-sm text-base-content/50 shrink-0">Filter:</span>
    <a
      href={base}
      class:list={[
        "btn btn-sm shrink-0",
        !selectedType ? "btn-primary" : "btn-ghost"
      ]}
    >
      All
    </a>
    {meetingTypes.map(type => (
      <a
        href={`${base}?type=${encodeURIComponent(type)}`}
        class:list={[
          "btn btn-sm shrink-0",
          selectedType === type ? "btn-primary" : "btn-ghost"
        ]}
      >
        {type}
      </a>
    ))}
  </div>
</div>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
